<h1>Job selection</h1>

<h2>Selecting the Resource Manager (Job Launcher)</h2>
<i>Padb</i> supports many resource managers and should select
the appropiate one for your cluster, if you have more than
one resource manager installed or <i>padb</i> can't detect
the correct one use <emph>-O rmgr=&lt;rmgs&gt;</emph>

If no resource manager is found use -Ormgr=local and proccess
pids will be used instead of job ids.

<h2>Selecting the job(s) to target</h2>
<i>Padb</i> provides several ways for the user to select which jobs
to target depending on requirments.  All jobs detected by padb are
identified by a unique numberic "jobid", typically this maps directly
only a identifier provided by the underlying resource manager.
The default is to target jobs of the current user, this can be
over-ridden with the --user flag.

<h3>Showing list of current jobs</h3>
To show a list of currently running jobs for a given user use the
--show-jobs flag.

<h3>To target all jobs</h3>
To target all jobs currently running for a given user use the --all (-a) flag.


<h3>To target any jobs</h3>
To target "any" job currently running for a given user use the --any (-A) flag.
This differs from targeting all jobs as it will raise an error if more
than one job is running.

<h3>To target a specific job</h3>
To target a specific job specify the jobid for the job on the command line,
after all other options.


<h3>To target a specific job (Full report option)</h3>
If trying to diagnose a problem or gather information there is another
option, --full-report=&lt;jobid&gt;, this tells padb to target the job
specified and to report all information about the job it knows how to
collect.  This option is typically used when creating bug reports to
send to third parties or to inspect a job for anomolies.

<h2>Example</h2>
To show a stack trace for process ID 10
use <pre>padb -Ormgr=local --stack-trace 10</pre>

<h1>Selecting ranks (Processes)</h1>
In modes where data for each rank is reported seperatly it is possible
to restrict which ranks are queried, this is done via the --rank option.
Multiple ranks can be selected by specifing --rank multiple times.


<h1>Selecting which mode to run in.</h1>
<i>Padb</i> can present an array of different information about your
select jobs and it can present it in a number of different ways.  With
the exception of Full Report only one mode can be selected, if you need
more information about the program run <i>padb</i> more than once.

<h2>Full Report</h2>
If you are just starting with <i>padb</i> or are creating an error
report for somebody else then the --full-report option is a good place
to start, this will complete a full diagnostic report for the job
iterating over the more common padb options.  For large jobs this can
generate a lot of output so redirecting to a file is recommended.

<h2>Stack Trace</h2>
The --stack-trace (-x) option will cause a stack trace to be given for
each selected rank.  The stack trace generated by this call is moderatly
terse and gives one function call per line.  This option is best combined
with --tree (-t) to condense stack traces into a tree based format.

<h3>Stack Trace (Longer)</h3>
Fuller stack traces can be obtained by setting the config options
stack-shows-params=1 and stack-shows-locals=1.  This can help to narrow
down a problem however does not work well with tree based stack traces
so is recommended to be used with the --rank flag.

<h2>Message Queues</h2>
For MPI programs the MPI Message Queues can be shown on MPI stacks
which support it, use the --message-queue (-q) option to show the 
message queues.

<h1>Configuration options</h1>
<i>padb</i> has a number of extended configuration options for tuning
it's behaviour, these can be set in a number of ways.  All configuration
options are key/value pairs.
<ul>
<li>Command line</li>
Use the command-line option "--config-option &lt;key&gt;=&lt;value&gt;".
-O can be substitued for --config-option.
<li>Environment</li>
Set the environment variable PADB_&lt;key&gt;=&lt;value&gt;.  All 
environment variables are assumed to be in upper case.
<li>Config file</li>
Config is also loaded from /etc/padb.conf and ~/.padbrc.  Contact the
mailing list for help with these files.
</ul>
A list of configuration options along with their current values can be
obtained with the command "padb -Ohelp"
